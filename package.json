{
  "name": "workspace-todos",
  "displayName": "Workspace To-do's",
  "description": "A VSCode extension to manage Workspace To-Do's",
  "version": "1.1.0",
  "publisher": "tarikkavaz",
  "engines": {
    "vscode": "^1.60.0"
  },
  "categories": [
    "Other"
  ],
  "keywords": [
    "todos",
    "workspace",
    "tasks",
    "todo list",
    "todo management"
  ],
  "activationEvents": [
    "onStartupFinished",
    "onView:workspaceTodosView",
    "onCommand:workspaceTodos.addTodo",
    "onCommand:workspaceTodos.refresh",
    "onCommand:workspaceTodos.editTodo",
    "onCommand:workspaceTodos.toggleTodo",
    "onCommand:workspaceTodos.deleteTodo",
    "onCommand:workspaceTodos.addFileToTodo",
    "onCommand:workspaceTodos.createTodoWithFile",
    "onCommand:workspaceTodos.addTextToTodo",
    "onCommand:workspaceTodos.createTodoWithText",
    "onCommand:workspaceTodos.exportToMarkdown",
    "onCommand:workspaceTodos.trello.setCredentials",
    "onCommand:workspaceTodos.trello.clearCredentials",
    "onCommand:workspaceTodos.trello.syncNow",
    "onCommand:workspaceTodos.trello.openBoard",
    "onCommand:workspaceTodos.trello.pruneMissing"
  ],
  "main": "./extension.js",
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "workspace-todos",
          "title": "Workspace To-do's",
          "icon": "media/task-icon.svg"
        }
      ]
    },
    "views": {
      "workspace-todos": [
        {
          "id": "workspaceTodosView",
          "name": "To-do's",
          "icon": "media/task-icon.svg",
          "when": "true"
        },
        {
          "id": "workspaceTodosCompletedView",
          "name": "Completed",
          "icon": "media/complete-icon.svg",
          "when": "true"
        },
        {
          "id": "workspaceTodosTrelloView",
          "name": "Trello",
          "icon": "media/trello-icon-light.svg",
          "when": "config.workspaceTodos.trello.enabled"
        }
      ]
    },
    "commands": [
      {
        "command": "workspaceTodos.addTodo",
        "title": "Add To-Do",
        "icon": "$(add)"
      },
      {
        "command": "workspaceTodos.refresh",
        "title": "Refresh",
        "icon": "$(refresh)"
      },
      {
        "command": "workspaceTodos.editTodo",
        "title": "Edit",
        "icon": "$(edit)"
      },
      {
        "command": "workspaceTodos.toggleTodo",
        "title": "Toggle Complete",
        "icon": "$(check)"
      },
      {
        "command": "workspaceTodos.markUncomplete",
        "title": "Mark as Uncompleted",
        "icon": "$(circle-outline)"
      },
      {
        "command": "workspaceTodos.deleteTodo",
        "title": "Delete",
        "icon": "$(trash)"
      },
      {
        "command": "workspaceTodos.addFileToTodo",
        "title": "Add File to To-Do - Existing",
        "icon": "$(add)"
      },
      {
        "command": "workspaceTodos.createTodoWithFile",
        "title": "Add File to To-Do - Create new",
        "icon": "$(file-add)"
      },
      {
        "command": "workspaceTodos.addTextToTodo",
        "title": "Add Text to To-Do - Existing",
        "icon": "$(add)"
      },
      {
        "command": "workspaceTodos.createTodoWithText",
        "title": "Add Text to To-Do - Create new",
        "icon": "$(file-add)"
      },
      {
        "command": "workspaceTodos.exportToMarkdown",
        "title": "Export To Markdown",
        "icon": "$(save-as)"
      },
      {
        "command": "workspaceTodos.saveTodoFromEditor",
        "title": "Save To-Do",
        "icon": "$(save)"
      },
      {
        "command": "workspaceTodos.markCompleteFromEditor",
        "title": "Mark To-Do as Complete",
        "icon": "$(check)"
      },
      {
        "command": "workspaceTodos.deleteTodoFromEditor",
        "title": "Delete To-Do",
        "icon": "$(trash)"
      },
      {
        "command": "workspaceTodos.toggleFilterLabel",
        "title": "Toggle Filter",
        "icon": "$(filter)"
      },
      {
        "command": "workspaceTodos.clearFilters",
        "title": "Clear Filters",
        "icon": "$(clear-all)"
      },
      {
        "command": "workspaceTodos.trello.setCredentials",
        "title": "Trello: Set Credentials",
        "icon": "$(key)"
      },
      {
        "command": "workspaceTodos.trello.clearCredentials",
        "title": "Trello: Clear Credentials",
        "icon": "$(trash)"
      },
      {
        "command": "workspaceTodos.trello.syncNow",
        "title": "Trello: Sync Now",
        "icon": "$(sync)"
      },
      {
        "command": "workspaceTodos.trello.openBoard",
        "title": "Trello: Open Board",
        "icon": "$(link-external)"
      },
      {
        "command": "workspaceTodos.trello.pruneMissing",
        "title": "Trello: Prune Missing Cards",
        "icon": "$(trash)"
      }
    ],
    "configuration": {
      "title": "Workspace To-do's",
      "properties": {
        "workspaceTodos.todosDirectory": {
          "type": "string",
          "default": ".vscode",
          "description": "Directory path (relative to workspace root) where todos.json file will be saved. Default is '.vscode'."
        },
        "workspaceTodos.markdownExportPath": {
          "type": "string",
          "default": ".vscode",
          "description": "Directory path (relative to workspace root) where todos.md file will be exported. Default is '.vscode'. The directory will be created if it doesn't exist."
        },
        "workspaceTodos.defaultStatus": {
          "type": "string",
          "default": "",
          "description": "Default status to apply to newly created To-Do's when no status is set. Must be a valid status value (e.g., 'backlog', 'planned', 'in-progress'). Leave empty for no default status."
        },
        "workspaceTodos.labels": {
          "type": "object",
          "description": "Label configuration for todos. Define categories with values and optional colors, hide categories or specific labels, and add custom categories.",
          "properties": {
            "categories": {
              "type": "object",
              "description": "Category definitions. Each category can have 'values' (array of label values) and optional 'colors' (object mapping values to hex colors).",
              "default": {
                "priority": {
                  "values": ["blocker", "critical", "high", "medium", "low", "trivial"]
                },
                "type": {
                  "values": ["bug", "feature", "enhancement", "refactor", "documentation", "test"]
                },
                "area": {
                  "values": ["performance", "security", "usability", "reliability", "compatibility"]
                },
                "status": {
                  "values": ["backlog", "planned", "in-progress", "blocked", "review", "done"]
                },
                "scope": {
                  "values": ["frontend", "backend", "api", "infra", "ci", "docs"]
                }
              }
            },
            "hiddenCategories": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Array of category names to hide from the UI.",
              "default": []
            },
            "hiddenLabels": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Array of specific labels to hide (format: 'category:value', e.g., 'priority:trivial').",
              "default": []
            },
            "custom": {
              "type": "object",
              "description": "Custom category definitions. Same structure as categories (values array and optional colors object).",
              "default": {}
            }
          },
          "default": {
            "categories": {
              "priority": {
                "values": ["blocker", "critical", "high", "medium", "low", "trivial"]
              },
              "type": {
                "values": ["bug", "feature", "enhancement", "refactor", "documentation", "test"]
              },
              "area": {
                "values": ["performance", "security", "usability", "reliability", "compatibility"]
              },
              "status": {
                "values": ["backlog", "planned", "in-progress", "blocked", "review", "done"]
              },
              "scope": {
                "values": ["frontend", "backend", "api", "infra", "ci", "docs"]
              }
            },
            "hiddenCategories": [],
            "hiddenLabels": [],
            "custom": {}
          }
        },
        "workspaceTodos.trello.enabled": {
          "type": "boolean",
          "default": false,
          "scope": "resource",
          "description": "Enable Trello sync for this workspace."
        },
        "workspaceTodos.trello.board": {
          "type": "string",
          "default": "",
          "scope": "resource",
          "description": "Trello board ID or URL to sync with."
        },
        "workspaceTodos.trello.listMapping": {
          "type": "object",
          "default": {},
          "scope": "resource",
          "description": "Map Trello list IDs or names to status values (e.g., {\"Doing\":\"in-progress\"}).",
          "additionalProperties": {
            "type": "string"
          }
        },
        "workspaceTodos.trello.labelMapping": {
          "type": "object",
          "default": {},
          "scope": "resource",
          "description": "Map Trello label names to todo labels (e.g., {\"bug\":\"type:bug\"}).",
          "additionalProperties": {
            "type": "string"
          }
        },
        "workspaceTodos.trello.assignedUsername": {
          "type": "string",
          "default": "",
          "scope": "resource",
          "description": "Trello username for assigned-only filtering."
        },
        "workspaceTodos.trello.assignedOnly": {
          "type": "boolean",
          "default": true,
          "scope": "resource",
          "description": "Show only cards assigned to the configured Trello username."
        },
        "workspaceTodos.trello.syncIntervalMinutes": {
          "type": "number",
          "default": 0,
          "scope": "resource",
          "description": "Background Trello sync interval in minutes (0 disables)."
        },
        "workspaceTodos.trello.syncLocalTodos": {
          "type": "boolean",
          "default": false,
          "scope": "resource",
          "description": "Create Trello cards for local-only todos during sync."
        }
      }
    },
    "menus": {
      "view/title": [
        {
          "command": "workspaceTodos.addTodo",
          "when": "view == workspaceTodosView",
          "group": "navigation"
        },
        {
          "command": "workspaceTodos.trello.syncNow",
          "when": "view == workspaceTodosTrelloView",
          "group": "navigation"
        },
        {
          "command": "workspaceTodos.trello.openBoard",
          "when": "view == workspaceTodosTrelloView",
          "group": "navigation"
        },
        {
          "command": "workspaceTodos.trello.setCredentials",
          "when": "view == workspaceTodosTrelloView",
          "group": "navigation"
        },
        {
          "command": "workspaceTodos.trello.pruneMissing",
          "when": "view == workspaceTodosTrelloView",
          "group": "navigation"
        },
        {
          "command": "workspaceTodos.exportToMarkdown",
          "when": "view == workspaceTodosView",
          "group": "navigation"
        },
        {
          "command": "workspaceTodos.refresh",
          "when": "view == workspaceTodosView",
          "group": "navigation"
        }
      ],
      "view/item/context": [
        {
          "command": "workspaceTodos.editTodo",
          "when": "view == workspaceTodosView && viewItem == todo",
          "group": "inline@1"
        },
        {
          "command": "workspaceTodos.toggleTodo",
          "when": "view == workspaceTodosView && viewItem == todo",
          "group": "inline@2"
        },
        {
          "command": "workspaceTodos.deleteTodo",
          "when": "view == workspaceTodosView && viewItem == todo",
          "group": "inline@3"
        },
        {
          "command": "workspaceTodos.toggleFilterLabel",
          "when": "view == workspaceTodosView && viewItem == filterLabel",
          "group": "inline@1"
        },
        {
          "command": "workspaceTodos.clearFilters",
          "when": "view == workspaceTodosView && viewItem == filter",
          "group": "navigation"
        },
        {
          "command": "workspaceTodos.editTodo",
          "when": "view == workspaceTodosCompletedView && viewItem == todo",
          "group": "inline@1"
        },
        {
          "command": "workspaceTodos.markUncomplete",
          "when": "view == workspaceTodosCompletedView && viewItem == todo",
          "group": "inline@2"
        },
        {
          "command": "workspaceTodos.deleteTodo",
          "when": "view == workspaceTodosCompletedView && viewItem == todo",
          "group": "inline@3"
        },
        {
          "command": "workspaceTodos.toggleFilterLabel",
          "when": "view == workspaceTodosCompletedView && viewItem == filterLabel",
          "group": "inline@1"
        },
        {
          "command": "workspaceTodos.clearFilters",
          "when": "view == workspaceTodosCompletedView && viewItem == filter",
          "group": "navigation"
        }
      ],
      "explorer/context": [
        {
          "command": "workspaceTodos.addFileToTodo"
        },
        {
          "command": "workspaceTodos.createTodoWithFile"
        }
      ],
      "editor/context": [
        {
          "command": "workspaceTodos.addTextToTodo",
          "when": "editorHasSelection"
        },
        {
          "command": "workspaceTodos.createTodoWithText",
          "when": "editorHasSelection"
        }
      ]
    },
    "keybindings": [
      {
        "command": "workspaceTodos.saveTodoFromEditor",
        "key": "ctrl+s",
        "mac": "cmd+s",
        "when": "activeWebviewPanelId == 'workspaceTodoEditor'"
      },
      {
        "command": "workspaceTodos.markCompleteFromEditor",
        "key": "ctrl+enter",
        "mac": "cmd+enter",
        "when": "activeWebviewPanelId == 'workspaceTodoEditor'"
      },
      {
        "command": "workspaceTodos.deleteTodoFromEditor",
        "key": "ctrl+delete",
        "mac": "cmd+delete",
        "when": "activeWebviewPanelId == 'workspaceTodoEditor'"
      },
      {
        "command": "workspaceTodos.addTodo",
        "key": "ctrl+alt+n",
        "mac": "ctrl+cmd+n"
      }
    ]
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/tarikkavaz/workspace-todos.git"
  },
  "homepage": "https://github.com/tarikkavaz/workspace-todos",
  "bugs": {
    "url": "https://github.com/tarikkavaz/workspace-todos/issues"
  },
  "license": "MIT",
  "icon": "icon.png",
  "dependencies": {
    "monaco-editor": "^0.45.0"
  },
  "devDependencies": {
    "@vscode/vsce": "^2.22.0",
    "@types/vscode": "^1.60.0"
  },
  "scripts": {
		"copy-monaco": "node scripts/copy-monaco.js",
		"postinstall": "pnpm run copy-monaco",
		"prepackage": "pnpm run copy-monaco",
		"package": "vsce package --no-dependencies"
	}
}
